# 旧键盘改造计划流程

## 结果预览

### 改造前：

![IMG_20210530_095639](https://i.loli.net/2021/05/30/xFOh91bKzsJ4CqQ.jpg)

### 改造后：

![IMG_20210530_104420](https://i.loli.net/2021/05/30/nTWfQ9ZMceqtJBO.jpg)

### 1.准备材料

一个有线键盘，一个Neptune开发板，一个9350开发板和4根杜邦线外加一根给开发板供电的type-C数据线

### 2.连接

将两个板子通过4根杜邦线连接在一起，有线键盘与CH9350相连，Neptune开发板与数据线相连

![mmexport1622343136535](https://i.loli.net/2021/05/30/DBF5xwXA2sd8htY.png)

用蓝牙连接，手机启动蓝牙，搜索设备，我们开发板的是“OpenHarmony_HID-***”,连接完毕之后，测试键盘的键是否能够正常使用

### 3.烧录

### 1）去官网下载开发板程序

[官网链接](https://gitee.com/openharmony-sig/vendor_oh_fun/tree/master/hihope_neptune-oh_hid)

点击黄黄的按钮便可以下载文件包

### 2）安装串口驱动

使用TTL-USB(CH340)驱动，所以需要先安装这个程序

搜索设备管理器，

搜索电脑的设备管理器 -> 端口 -> USB-SERIAL CH340(COM)，**需要记住COM**(后面需要用到)，每台设备的不一样

### 3）安装烧写工具

使用SecureCRT软件，没有的需要自行下载

配置烧录工具

如下图

![mmexport1622344246122](https://i.loli.net/2021/05/30/9guNy7bldWRcAIP.png)

确认连接成功

鼠标点击窗口，按键盘的ESC+开发板复位键RST捕获

### 4）运行烧写程序

先按住键盘的ESC不放，单机开发板的RST键

窗体出现cccc时，进入烧录状态

选择Transfer->Send Xmodem,开始烧录

选择“\04_固件\OpenHarmony_HID_V0.1.img”，点击"Send"

进度达到100%时表示烧录完成

单机开发板的RST键，退出烧录

### 4.连接成功

![IMG_20210530_115824](https://i.loli.net/2021/05/30/GkBV4bE7pwtI6PY.jpg)