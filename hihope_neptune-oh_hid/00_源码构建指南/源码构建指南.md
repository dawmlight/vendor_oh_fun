##  																				源码构建指南

###  1、hpm环境搭建

HPM（harmony package manager）即Harmony包管理器，它是华为Harmony推出的组件包管理器，可以方便地从官网获取所需组件，根据需要只下载当前项目用到的组件，使得工程文件更加精简。

[Ubuntu搭建hpm开发环境的指导链接](https://device.harmonyos.com/cn/docs/ide/user-guides/install_ubuntu-0000001072959308)

**注意：假如某些步骤执行失败，请重启ubuntu再试试**。

### 2、hpm拉取源码

[HiHope-Neptune开发板介绍链接](https://hpm.harmonyos.com/#/cn/distribution/@hihope%2Fneptune_iot)

hpm开发环境搭建完毕后，在Ubuntu首先输入：

```
hpm init -t dist 
```

实现目录初始化，如图：

<img src="meta\image-20210513155706980.png"  style="float: center;" />

然后，输入：

```
hpm i @hihope/neptune_iot
```

下载对应组件及依赖包，如图：

<img src="meta\image-20210513155846939.png"  style="float: center;" />

执行完毕，显示“Installed”，表示成功下载, 如图：

<img src="meta\image-20210515094543489.png"  style="float: center;" />

执行发行版本命令（包含编译）

```
hpm dist
```

如图：

<img src="meta\image-20210513211727701.png"  style="float: center;" />

执行完毕，显示：“Build success!”，表示编译成功，如图：

<img src="meta\image-20210514180051211.png"  style="float: center;" />

编译生成的img文件，如图：

<img src="meta\image-20210514185422300.png"  style="float: center;" />

**说明**
1、首次编译前，需要先安装编译工具链csky-abiv2-elf-gcc，具体方法请参考：[Neptune模组使用操作手册.md](https://gitee.com/hihopeorg/neptune_docs/blob/master/Neptune模组使用操作手册.md)

2、更多的hpm命令请参照: [hpm常见命令](https://device.harmonyos.com/cn/docs/develop/bundles/oem_bundle_standard_manage-0000001050171890)

